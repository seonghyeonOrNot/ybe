# HR-007 연차촉진 기능 고도화 - 데이터 분석 문서

## 개요

본 문서는 연차촉진 기능 고도화 프로젝트(HR-007)의 데이터 분석 관점에서의 KPI 정의, 이벤트 설계, 대시보드 초안, 그리고 롤아웃 측정 계획을 포함합니다.

---

## 1. KPI 정의

### 1.1 기능 도입 효과 측정 KPI

| KPI 명칭 | 정의 | 측정 방법 | 기준선(AS-IS) | 목표치(TO-BE) | 측정 주기 |
|---------|------|----------|--------------|--------------|----------|
| 연차 소멸 전 사용률 | 소멸 예정 연차 중 촉진 후 사용된 비율 | (촉진 후 사용 연차 / 소멸 예정 연차) × 100 | 45% (추정) | 75% 이상 | 월간 |
| 촉진 기능 사용률 | 전체 고객사 중 촉진 기능 활성화 비율 | (촉진 기능 ON 회사 / 전체 회사) × 100 | 30% (추정) | 60% 이상 | 월간 |
| 연차 소멸 일수 감소율 | 전년 대비 소멸 연차 일수 감소 비율 | (전년 소멸 일수 - 금년 소멸 일수) / 전년 소멸 일수 × 100 | 0% | 30% 감소 | 연간 |
| 평균 잔여연차 감소율 | 회계년도 말 기준 평균 잔여연차 일수 감소 | 전년 대비 평균 잔여연차 일수 비교 | 5.2일 (추정) | 3.5일 이하 | 연간 |

### 1.2 운영 효율성 KPI

| KPI 명칭 | 정의 | 측정 방법 | 기준선(AS-IS) | 목표치(TO-BE) | 측정 주기 |
|---------|------|----------|--------------|--------------|----------|
| 데이터 정합성 오류율 | 연차현황 vs 촉진 메뉴 데이터 불일치 건수 비율 | (불일치 건수 / 전체 조회 건수) × 100 | 5% (VOC 기반 추정) | 0.1% 미만 | 주간 |
| 엑셀 다운로드 오류율 | 화면 데이터와 다운로드 데이터 불일치 비율 | (다운로드 오류 건수 / 전체 다운로드 건수) × 100 | 3% (추정) | 0% | 주간 |
| 설정 오류율 | 잘못된 촉진 설정으로 인한 문제 발생 비율 | (설정 오류 건수 / 전체 설정 건수) × 100 | 8% (추정) | 2% 미만 | 월간 |
| CS 문의 감소율 | 연차촉진 관련 CS 문의 건수 감소 비율 | (전월 문의 - 금월 문의) / 전월 문의 × 100 | 52건/월 | 80% 감소 | 월간 |
| 평균 처리 시간 | 촉진 프로세스 완료까지 소요 시간 | 1차 촉진 발송 ~ 최종 제출까지 평균 소요일 | 측정 불가 | 7일 이내 | 월간 |

### 1.3 사용자 만족도 KPI

| KPI 명칭 | 정의 | 측정 방법 | 기준선(AS-IS) | 목표치(TO-BE) | 측정 주기 |
|---------|------|----------|--------------|--------------|----------|
| 기능 만족도 (CSAT) | 촉진 기능 사용 후 만족도 점수 | 인앱 설문 (1-5점 척도) | 미측정 | 4.0점 이상 | 분기 |
| 재사용 의향률 | 다음 연도에도 촉진 기능 사용 의향 | 설문 응답 비율 | 미측정 | 85% 이상 | 연간 |
| 기능 추천 지수 (NPS) | 동료에게 추천 의향 | NPS 설문 (-100 ~ 100) | 미측정 | +30 이상 | 분기 |
| 1차 제출 완료율 | 1차 촉진 후 계획서 제출 비율 | (1차 촉진 후 제출 / 1차 촉진 발송) × 100 | 미측정 | 70% 이상 | 월간 |
| 2차 제출 완료율 | 2차 촉진까지 포함 최종 제출 비율 | (최종 제출 / 촉진 대상) × 100 | 미측정 | 90% 이상 | 월간 |
| 기한 내 제출률 | 촉진 기한 내 계획서 제출 비율 | (기한 내 제출 / 전체 제출) × 100 | 미측정 | 80% 이상 | 월간 |

---

## 2. 이벤트 설계

### 2.1 이벤트 명명 규칙

- 형식: `{도메인}_{행위}_{상태/대상}`
- 도메인: `leave_promotion` (연차촉진)
- 예시: `leave_promotion_1st_sent`, `leave_promotion_plan_submitted`

### 2.2 필수 이벤트 목록

| 이벤트명 | 설명 | 트리거 시점 | 카테고리 |
|---------|------|------------|---------|
| `leave_promotion_setting_enabled` | 촉진 기능 활성화 | 관리자가 촉진 기능 ON 설정 시 | 설정 |
| `leave_promotion_setting_disabled` | 촉진 기능 비활성화 | 관리자가 촉진 기능 OFF 설정 시 | 설정 |
| `leave_promotion_setting_updated` | 촉진 설정 변경 | 촉진 기준/일정 등 설정 변경 시 | 설정 |
| `leave_promotion_target_calculated` | 촉진 대상자 산정 완료 | 시스템이 촉진 대상자 리스트 생성 시 | 연산 |
| `leave_promotion_1st_sent` | 1차 촉진 발송 | 1차 촉진 알림 발송 시 | 알림 |
| `leave_promotion_1st_viewed` | 1차 촉진 열람 | 직원이 1차 촉진 알림 확인 시 | 알림 |
| `leave_promotion_2nd_sent` | 2차 촉진 발송 | 2차 촉진 알림 발송 시 | 알림 |
| `leave_promotion_2nd_viewed` | 2차 촉진 열람 | 직원이 2차 촉진 알림 확인 시 | 알림 |
| `leave_promotion_plan_started` | 계획서 작성 시작 | 직원이 계획서 작성 화면 진입 시 | 계획서 |
| `leave_promotion_plan_saved` | 계획서 임시저장 | 직원이 계획서 임시저장 시 | 계획서 |
| `leave_promotion_plan_submitted` | 계획서 제출 완료 | 직원이 계획서 최종 제출 시 | 계획서 |
| `leave_promotion_plan_approved` | 계획서 승인 | 관리자가 계획서 승인 시 | 계획서 |
| `leave_promotion_plan_rejected` | 계획서 반려 | 관리자가 계획서 반려 시 | 계획서 |
| `leave_promotion_leave_used` | 촉진 연차 사용 | 촉진된 연차를 실제 사용 시 | 사용 |
| `leave_promotion_dashboard_viewed` | 대시보드 조회 | 관리자가 촉진 현황 대시보드 조회 시 | 조회 |
| `leave_promotion_report_downloaded` | 리포트 다운로드 | 촉진 현황 엑셀 다운로드 시 | 다운로드 |
| `leave_promotion_data_mismatch_detected` | 데이터 불일치 감지 | 연차현황-촉진 데이터 불일치 감지 시 | 오류 |

### 2.3 이벤트 속성 정의

| 속성명 | 데이터 타입 | 필수 여부 | 설명 | 적용 이벤트 |
|-------|-----------|----------|------|------------|
| `event_id` | String (UUID) | 필수 | 이벤트 고유 식별자 | 전체 |
| `timestamp` | DateTime (ISO8601) | 필수 | 이벤트 발생 시각 | 전체 |
| `user_id` | String | 필수 | 사용자 고유 ID | 전체 |
| `company_id` | String | 필수 | 회사 고유 ID | 전체 |
| `employee_id` | String | 조건부 | 대상 직원 ID (직원 대상 이벤트) | 직원 관련 이벤트 |
| `fiscal_year` | Integer | 필수 | 회계연도 | 전체 |
| `promotion_stage` | Enum | 조건부 | 촉진 단계 (1st, 2nd, final) | 촉진 관련 이벤트 |
| `remaining_days` | Decimal | 조건부 | 잔여 연차 일수 | 연차 관련 이벤트 |
| `target_days` | Decimal | 조건부 | 촉진 대상 연차 일수 | 촉진 관련 이벤트 |
| `carryover_days` | Decimal | 선택 | 이월 연차 일수 | 연차 관련 이벤트 |
| `advance_used_days` | Decimal | 선택 | 당겨쓴 연차 일수 | 연차 관련 이벤트 |
| `submission_deadline` | Date | 조건부 | 제출 기한 | 계획서 이벤트 |
| `is_on_time` | Boolean | 조건부 | 기한 내 제출 여부 | 제출 이벤트 |
| `plan_id` | String | 조건부 | 계획서 ID | 계획서 이벤트 |
| `planned_dates` | Array[Date] | 선택 | 계획된 연차 사용일 | 계획서 이벤트 |
| `error_type` | Enum | 조건부 | 오류 유형 | 오류 이벤트 |
| `mismatch_details` | JSON | 조건부 | 불일치 상세 정보 | 불일치 이벤트 |
| `download_format` | Enum | 조건부 | 다운로드 형식 (xlsx, csv) | 다운로드 이벤트 |
| `row_count` | Integer | 선택 | 다운로드 데이터 행 수 | 다운로드 이벤트 |
| `session_id` | String | 선택 | 세션 ID | 전체 |
| `device_type` | Enum | 선택 | 기기 유형 (web, mobile) | 전체 |
| `source` | String | 선택 | 진입 경로 | 전체 |

### 2.4 이벤트 흐름도

```
[설정 단계]
leave_promotion_setting_enabled
    ↓
leave_promotion_setting_updated
    ↓
[대상 산정]
leave_promotion_target_calculated
    ↓
[1차 촉진]
leave_promotion_1st_sent → leave_promotion_1st_viewed
    ↓
[계획서 제출]
leave_promotion_plan_started → leave_promotion_plan_saved → leave_promotion_plan_submitted
    ↓
[2차 촉진 (미제출 시)]
leave_promotion_2nd_sent → leave_promotion_2nd_viewed → leave_promotion_plan_submitted
    ↓
[승인/반려]
leave_promotion_plan_approved / leave_promotion_plan_rejected
    ↓
[연차 사용]
leave_promotion_leave_used
```

---

## 3. 대시보드 초안

### 3.1 관리자 대시보드 (회사별 촉진 현황)

**목적**: HR 담당자가 자사의 연차촉진 현황을 한눈에 파악하고 조치 필요 대상을 식별

#### 주요 구성 요소

| 섹션 | 차트/지표 유형 | 표시 정보 | 필터 옵션 |
|-----|--------------|----------|----------|
| 핵심 KPI 카드 | 숫자 카드 (4개) | 촉진 대상자 수, 제출 완료율, 평균 잔여연차, 소멸 예정 연차 | 부서, 기간 |
| 촉진 진행 현황 | 퍼널 차트 | 대상자 → 1차 발송 → 열람 → 제출 → 승인 전환율 | 부서, 직급 |
| 부서별 현황 | 히트맵 테이블 | 부서별 대상자 수, 제출률, 잔여연차 | 정렬 옵션 |
| 미제출 리스트 | 데이터 테이블 | 미제출자 명단, 잔여연차, 촉진 단계, 마지막 알림일 | 촉진 단계, 부서 |
| 연차 사용 추이 | 라인 차트 | 월별/주별 연차 사용 추이 (촉진 전/후 비교) | 기간 |
| 기한 준수율 | 도넛 차트 | 기한 내 제출 / 기한 초과 / 미제출 비율 | 부서 |

#### 대시보드 레이아웃 예시

```
┌──────────────────────────────────────────────────────────────────────┐
│  [회계연도 선택 v]  [부서 필터 v]  [기간 필터 v]  [다운로드 버튼]    │
├───────────────┬───────────────┬───────────────┬──────────────────────┤
│  촉진 대상자  │  제출 완료율  │  평균 잔여연차 │  소멸 예정 연차     │
│     127명     │     68%       │     4.2일      │     312일           │
│   ▲ 12명      │   ▲ 15%p     │   ▼ 0.8일      │   ▼ 45일            │
├───────────────┴───────────────┴───────────────┴──────────────────────┤
│                        [촉진 진행 퍼널 차트]                          │
│   대상자(127) → 1차발송(127) → 열람(98) → 제출(86) → 승인(82)       │
├──────────────────────────────────┬───────────────────────────────────┤
│     [부서별 현황 히트맵]         │    [기한 준수율 도넛 차트]        │
├──────────────────────────────────┴───────────────────────────────────┤
│                   [미제출자 상세 테이블]                              │
│   이름 | 부서 | 잔여연차 | 촉진단계 | 마지막알림 | 액션              │
└──────────────────────────────────────────────────────────────────────┘
```

### 3.2 운영 대시보드 (전체 사용 현황/오류율)

**목적**: 개발/운영팀이 시스템 전반의 건강도와 데이터 품질을 모니터링

#### 주요 구성 요소

| 섹션 | 차트/지표 유형 | 표시 정보 | 알림 조건 |
|-----|--------------|----------|----------|
| 시스템 건강도 | 게이지 차트 | 전체 정합성 점수 (0-100) | < 95% 시 경고 |
| 오류율 추이 | 라인 차트 | 일별 데이터 불일치, 다운로드 오류, 설정 오류율 | 급증 시 알림 |
| 실시간 이벤트 | 스트림 뷰 | 최근 발생 이벤트 (이상치 하이라이트) | 오류 이벤트 즉시 알림 |
| 오류 상세 | 데이터 테이블 | 오류 유형, 회사, 발생 시각, 영향 범위 | - |
| API 응답 시간 | 히스토그램 | 촉진 관련 API 응답 시간 분포 | p95 > 2초 시 경고 |
| 데이터 불일치 현황 | 바 차트 | 불일치 유형별 발생 건수 | - |

#### 오류 유형 분류표

| 오류 코드 | 오류 유형 | 설명 | 심각도 | 자동 해결 가능 |
|----------|----------|------|-------|---------------|
| ERR_001 | 잔여연차 불일치 | 연차현황 vs 촉진 메뉴 불일치 | Critical | 아니오 |
| ERR_002 | 이월연차 포함 오류 | 이월연차가 촉진 대상에 잘못 포함 | High | 예 (재계산) |
| ERR_003 | 당겨쓴 연차 미차감 | 선사용 연차가 잔여에서 미차감 | High | 예 (재계산) |
| ERR_004 | 다운로드 데이터 불일치 | 화면 vs 엑셀 데이터 상이 | Medium | 아니오 |
| ERR_005 | 촉진 구분 누락 | 촉진된 연차 표시 누락 | Low | 예 (재동기화) |
| ERR_006 | 설정 충돌 | 상충되는 촉진 설정 | Medium | 아니오 |
| ERR_007 | 대상자 산정 오류 | 촉진 대상자 잘못 산정 | Critical | 아니오 |

### 3.3 PM 대시보드 (기능 Adoption / CS 문의 추이)

**목적**: Product Manager가 기능 도입 효과와 사용자 반응을 추적

#### 주요 구성 요소

| 섹션 | 차트/지표 유형 | 표시 정보 | 분석 관점 |
|-----|--------------|----------|----------|
| Adoption Funnel | 퍼널 차트 | 인지 → 활성화 → 사용 → 정착 단계별 전환율 | Growth |
| 회사별 도입 현황 | 지도/테이블 | 지역/산업별 도입률 분포 | Segment |
| 주간 활성 사용자 | 라인 차트 | WAU 추이 및 성장률 | Engagement |
| CS 문의 추이 | 복합 차트 | 문의 건수 + 카테고리별 분포 | Support |
| 기능별 사용 빈도 | 바 차트 | 설정 변경, 대시보드 조회, 다운로드 빈도 | Feature Usage |
| 사용자 피드백 | 워드클라우드 + 리스트 | 설문/CS에서 추출한 주요 키워드 | Voice of Customer |
| 경쟁 기능 비교 | 비교 테이블 | 자사 vs 경쟁사 기능 커버리지 | Market |

#### Adoption 측정 지표표

| 단계 | 정의 | 측정 기준 | 목표 전환율 |
|-----|------|----------|------------|
| 인지(Awareness) | 기능 존재 인지 | 촉진 설정 메뉴 1회 이상 방문 | 100% (타겟 고객 대상) |
| 활성화(Activation) | 기능 첫 사용 | 촉진 기능 ON 설정 | 70% |
| 사용(Usage) | 실제 촉진 발송 | 1차 촉진 1회 이상 발송 | 85% (활성화 대비) |
| 정착(Retention) | 지속적 사용 | 2개월 연속 촉진 기능 사용 | 75% (사용 대비) |
| 확산(Referral) | 추천/확대 | 다른 사업장/계열사에 추천 | 20% |

---

## 4. A/B 테스트 및 단계적 롤아웃 측정 계획

### 4.1 롤아웃 단계 정의

| 단계 | 기간 | 대상 | 비율 | 목적 |
|-----|------|------|-----|------|
| Alpha | Week 1-2 | 내부 테스트 계정 + 파트너 2개사 | 1% | 기능 안정성 검증 |
| Beta (Limited) | Week 3-4 | Early Adopter 고객 10개사 | 5% | 실사용 피드백 수집 |
| Beta (Extended) | Week 5-6 | 중소규모 고객 50개사 | 15% | 다양한 사용 패턴 검증 |
| GA Soft Launch | Week 7-8 | 전체 고객 중 희망사 | 40% | 대규모 부하 테스트 |
| GA Full Launch | Week 9+ | 전체 고객 | 100% | 전면 배포 |

### 4.2 단계별 측정 지표

| 단계 | 핵심 측정 지표 | 보조 측정 지표 | 수집 방법 |
|-----|---------------|---------------|----------|
| Alpha | - 크리티컬 버그 수 (목표: 0) <br> - 데이터 정합성 (목표: 100%) | - API 응답 시간 <br> - 에러 로그 발생률 | 자동 모니터링 + 수동 QA |
| Beta (Limited) | - 기능 활성화율 (목표: 80%+) <br> - 1차 제출률 (목표: 60%+) | - 사용자 피드백 점수 <br> - 설정 완료 시간 | 이벤트 트래킹 + 인터뷰 |
| Beta (Extended) | - 2차 포함 제출률 (목표: 75%+) <br> - 오류율 (목표: <1%) | - 다운로드 사용률 <br> - 대시보드 방문 빈도 | 이벤트 트래킹 + 설문 |
| GA Soft Launch | - 연차 소멸 감소율 (목표: 20%+) <br> - CS 문의 감소 (목표: 50%+) | - 시스템 부하 <br> - 동시 접속자 처리 | 이벤트 트래킹 + CS 분석 |
| GA Full Launch | - 전체 KPI 달성 여부 <br> - 고객 만족도 (CSAT 4.0+) | - 정착률 <br> - 추천 의향 (NPS) | 전체 분석 시스템 |

### 4.3 성공/실패 판단 기준

| 평가 영역 | 성공 기준 (Go) | 경고 기준 (Watch) | 실패 기준 (No-Go) | 대응 방안 |
|----------|---------------|------------------|------------------|----------|
| 데이터 정합성 | 불일치 < 0.1% | 0.1% ~ 1% | > 1% | 롤백 후 원인 분석 |
| 시스템 안정성 | 에러율 < 0.5% | 0.5% ~ 2% | > 2% | 트래픽 제한 + 긴급 패치 |
| 사용자 활성화 | 활성화율 > 60% | 40% ~ 60% | < 40% | UX 개선 + 가이드 강화 |
| 제출 완료율 | 1차 제출률 > 50% | 30% ~ 50% | < 30% | 기능 재설계 검토 |
| CS 문의 | 감소 또는 유지 | 10% 이내 증가 | > 10% 증가 | 롤아웃 중단 + 이슈 분석 |
| 성능 | p95 < 2초 | 2초 ~ 5초 | > 5초 | 성능 최적화 필수 |

### 4.4 A/B 테스트 설계 (선택적 적용)

#### 테스트 가설 및 설계

| 테스트 ID | 가설 | 변수 | 대조군 (A) | 실험군 (B) | 기대 효과 |
|----------|------|------|-----------|-----------|----------|
| AB-001 | 알림 시점이 제출률에 영향 | 1차 촉진 발송 시점 | 소멸 60일 전 | 소멸 45일 전 | 제출률 +10% |
| AB-002 | 리마인더 빈도가 제출률에 영향 | 리마인더 발송 주기 | 주 1회 | 주 2회 | 제출률 +15% |
| AB-003 | 시각화가 행동 변화 유도 | 잔여연차 표시 방식 | 숫자만 표시 | 게이지 + 숫자 | 열람 후 행동 전환 +20% |
| AB-004 | 개인화 메시지가 효과적 | 촉진 알림 내용 | 일반 메시지 | 개인화 메시지 | 열람률 +25% |

#### A/B 테스트 실행 가이드

```
[실험 설계]
├─ 최소 표본 크기: 각 그룹 500명 (통계적 유의성 95%, 검정력 80%)
├─ 테스트 기간: 최소 2주 (충분한 이벤트 수집)
├─ 무작위 배정: user_id 기반 해시로 일관된 경험 보장
└─ 동시 실험 제한: 최대 2개 (상호 간섭 방지)

[측정 및 분석]
├─ 1차 지표: 제출 완료율 / 기한 내 제출률
├─ 2차 지표: 열람률, 계획서 작성 시작률
├─ 가드레일 지표: CS 문의 증가, 이탈률
└─ 분석 방법: t-test, chi-square test, 베이지안 분석

[의사결정 기준]
├─ p-value < 0.05 → 통계적 유의미
├─ 효과 크기 > 5% → 실질적 의미 있음
└─ 가드레일 지표 악화 없음 → 부작용 없음
```

---

## 5. 데이터 파이프라인 및 수집 아키텍처

### 5.1 데이터 흐름

```
[이벤트 발생]
     │
     ▼
[Event Collector] ──→ [Message Queue (Kafka/RabbitMQ)]
     │                          │
     ▼                          ▼
[Real-time Processing]    [Batch Processing]
     │                          │
     ▼                          ▼
[Operational DB]          [Data Warehouse]
     │                          │
     ▼                          ▼
[운영 대시보드]           [분석 대시보드/리포트]
```

### 5.2 데이터 저장 및 보관

| 데이터 유형 | 저장소 | 보관 기간 | 집계 수준 |
|-----------|-------|----------|----------|
| Raw 이벤트 로그 | Data Lake (S3/GCS) | 3년 | 개별 이벤트 |
| 집계 데이터 | Data Warehouse | 5년 | 일별/주별/월별 |
| 실시간 지표 | Redis/TimescaleDB | 30일 | 분/시간별 |
| 대시보드 캐시 | Redis | 24시간 | 사전 집계 |

---

## 6. 부록

### 6.1 용어 정의

| 용어 | 정의 |
|-----|------|
| 촉진 대상 연차 | 이월연차 및 당겨쓴 연차를 제외한, 촉진 기준에 해당하는 잔여 연차 |
| 1차 촉진 | 연차 소멸 N일 전 발송되는 첫 번째 연차 사용 촉진 알림 |
| 2차 촉진 | 1차 촉진 후 미제출 시 발송되는 두 번째 촉진 알림 |
| 계획서 | 직원이 작성하는 연차 사용 계획 문서 |
| 정합성 | 연차현황 메뉴와 촉진 메뉴 간 데이터 일치 정도 |

### 6.2 관련 문서

- 연차촉진 기능 PRD
- 연차관리 시스템 ERD
- 이벤트 트래킹 가이드라인
- 데이터 품질 관리 정책

### 6.3 문서 이력

| 버전 | 일자 | 작성자 | 변경 내용 |
|-----|------|-------|----------|
| 1.0 | 2026-02-04 | Data Analyst | 최초 작성 |

---

*본 문서는 HR-007 연차촉진 기능 고도화 프로젝트의 데이터 분석 기준 문서입니다.*
