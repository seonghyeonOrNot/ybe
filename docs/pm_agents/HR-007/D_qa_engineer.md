# HR-007 연차촉진 기능 고도화 - QA 테스트 설계 문서

## 문서 정보

| 항목 | 내용 |
|------|------|
| 이슈 ID | HR-007 |
| 이슈명 | 연차촉진 기능 고도화 |
| 작성자 | QA Engineer |
| 작성일 | 2026-02-04 |
| 버전 | v1.0 |

---

## 1. 테스트 개요

### 1.1 테스트 배경

고객 VOC 52건 분석 결과, 연차촉진 기능에서 다음과 같은 핵심 오류가 발견되었습니다:

- **데이터/계산 오류**: 5건
- **시스템 오류**: 9건
- **주요 오류 유형**: 연차 개수 오류, 잔여연차 불일치, 엑셀 다운로드 오류, 반반차 처리 오류, 결재 오류, 팝업 오류

### 1.2 테스트 범위

| 구분 | 테스트 대상 |
|------|------------|
| 연차 기준 | 입사일 기준, 회계연도 기준 |
| 근속 기간 | 1년 미만, 1년 이상 |
| 연차 유형 | 기본연차, 가산연차, 이월연차, 당겨쓴연차 |
| 촉진 단계 | 1차(사용계획서), 2차(지정통보) |
| 촉진 상태 | 발송예정, 발송완료, 제출완료, 기한초과 |

---

## 2. 테스트 시나리오

### 2.1 정상 케이스 (Happy Path)

| TC ID | 시나리오명 | 사전조건 | 테스트 단계 | 기대결과 | 우선순위 |
|-------|-----------|----------|-------------|----------|----------|
| TC-N-001 | 1차 촉진 발송 정상 처리 | 촉진 대상자 존재, 촉진 설정 ON | 1. 촉진 대상자 조회<br>2. 1차 촉진(사용계획서) 발송<br>3. 발송 결과 확인 | 대상자에게 사용계획서 요청 알림 발송, 상태 "발송완료"로 변경 | P0 |
| TC-N-002 | 사용계획서 제출 정상 처리 | 1차 촉진 발송완료 | 1. 대상자 사용계획서 작성<br>2. 제출 버튼 클릭<br>3. 제출 완료 확인 | 상태 "제출완료"로 변경, 잔여연차 미차감 | P0 |
| TC-N-003 | 2차 촉진 발송 정상 처리 | 1차 촉진 후 미제출자 존재 | 1. 미제출자 조회<br>2. 2차 촉진(지정통보) 발송<br>3. 발송 결과 확인 | 미제출자에게 지정통보 알림 발송 | P0 |
| TC-N-004 | 연차 사용 후 촉진 완료 | 사용계획서 제출완료 | 1. 계획된 연차 신청<br>2. 결재 승인<br>3. 연차 차감 확인 | 사용한 연차만 차감, 촉진 이력 "완료" 처리 | P0 |
| TC-N-005 | 1년 미만자 월별 연차 자동 집계 | 입사일 기준 1년 미만 | 1. 매월 1일 배치 실행<br>2. 연차 발생 확인 | 만근 시 매월 1일씩 자동 발생, 최대 11일 | P0 |
| TC-N-006 | 촉진 대상자 정확한 조회 | 잔여연차 존재 대상자 | 1. 촉진 대상자 조회<br>2. 대상자 목록 확인 | 이월연차 제외, 당겨쓴연차 차감 후 잔여분만 표시 | P0 |
| TC-N-007 | 연차현황-촉진메뉴 데이터 일치 | 동일 대상자 | 1. 연차현황 메뉴 조회<br>2. 연차촉진 메뉴 조회<br>3. 데이터 비교 | 잔여연차 일수 동일 | P0 |

### 2.2 예외 케이스 (Exception Path)

| TC ID | 시나리오명 | 사전조건 | 테스트 단계 | 기대결과 | 우선순위 |
|-------|-----------|----------|-------------|----------|----------|
| TC-E-001 | 사용계획서 미제출 시 기한초과 처리 | 1차 촉진 발송완료, 제출기한 경과 | 1. 제출기한 경과 후 상태 확인<br>2. 2차 촉진 대상 확인 | 상태 "기한초과"로 변경, 2차 촉진 대상에 포함 | P0 |
| TC-E-002 | 연차 취소 시 촉진 재계산 | 사용계획서 제출 후 연차 취소 | 1. 승인된 연차 취소<br>2. 잔여연차 재계산<br>3. 촉진 대상 재확인 | 취소된 연차 복원, 촉진 대상 재평가 | P1 |
| TC-E-003 | 입사일 변경 시 연차 재계산 | 1년 미만 → 1년 이상 변경 | 1. 인사정보에서 입사일 수정<br>2. 연차 재계산<br>3. 촉진 대상 재확인 | 변경된 입사일 기준 연차 재계산 | P1 |
| TC-E-004 | 발생연차 0인 경우 처리 | 당겨쓴 연차로 잔여 0 | 1. 촉진 대상자 조회<br>2. 발생연차 0인 대상 확인 | 촉진 대상에서 제외, "0" 정상 표시 | P0 |
| TC-E-005 | 반반차 2건 동시 사용 | 같은 날 반반차 2건 신청 | 1. 오전 반반차 신청<br>2. 오후 반반차 신청<br>3. 근태/연차 확인 | 1일 근무로 인식, 연차 0.5일 차감 | P0 |
| TC-E-006 | 제출기한 내 "초과" 표시 방지 | 제출기한 D-1 | 1. 제출기한 전일 상태 확인 | "발송완료" 또는 "대기중" 표시, "초과" 미표시 | P0 |
| TC-E-007 | 비대상자 팝업 미노출 | 촉진 비대상자 | 1. 비대상자 로그인<br>2. 촉진 관련 메뉴 접근 | 촉진 관련 팝업 미노출 | P1 |
| TC-E-008 | 제출완료자 재알림 방지 | 사용계획서 제출완료 | 1. 촉진 알림 발송<br>2. 제출완료자 알림 확인 | 제출완료자에게 재알림 미발송 | P1 |
| TC-E-009 | 이월연차만 있는 경우 | 기본연차 0, 이월연차 5일 | 1. 촉진 대상자 조회 | 촉진 대상에서 제외 | P0 |
| TC-E-010 | 당겨쓴 연차 차감 후 음수 방지 | 당겨쓴연차 > 발생연차 | 1. 촉진 대상자 조회<br>2. 잔여연차 확인 | 잔여연차 0으로 표시, 음수 미발생 | P0 |

### 2.3 회귀 케이스 (Regression)

| TC ID | 원본 버그 | 재발 방지 테스트 | 검증 포인트 | 우선순위 |
|-------|-----------|-----------------|-------------|----------|
| TC-R-001 | 입사일 2025-02-10, 잔여 1.5개 사용계획서 미발송 | 1년 미만자 월별 연차 촉진 발송 확인 | 발생연차 중 잔여분에 대해 촉진 정상 발송 | P0 |
| TC-R-002 | 연차현황-촉진메뉴 잔여연차 불일치 | 두 메뉴 간 데이터 동기화 확인 | 동일 시점 조회 시 동일 값 표시 | P0 |
| TC-R-003 | 발생연차 "0" 다수 표시 | 연차 자동 집계 로직 확인 | 만근 대상자 연차 정상 발생 | P0 |
| TC-R-004 | 당겨쓴 연차 미사용자에게 표시 | 당겨쓴 연차 대상자 필터링 확인 | 실제 당겨쓴 이력 있는 자만 표시 | P0 |
| TC-R-005 | 반반차 2건 근태 오류 | 반반차 합산 로직 확인 | 0.25일 x 2 = 0.5일 정상 계산 | P0 |
| TC-R-006 | 제출기한 내 "초과" 표시 | 기한 비교 로직 확인 | 현재일 <= 제출기한 시 "초과" 미표시 | P0 |
| TC-R-007 | 비대상자 팝업 노출 | 촉진 대상자 판별 로직 확인 | 비대상자에게 팝업 미노출 | P1 |
| TC-R-008 | 제출완료자 재알림 | 발송 대상 필터링 확인 | 제출완료 상태 제외 후 발송 | P1 |

---

## 3. 조합 케이스 (Pairwise Testing)

### 3.1 연차 기준 x 근속 x 연차 유형 x 촉진 단계 조합

| TC ID | 연차 기준 | 근속 | 연차 유형 | 촉진 단계 | 촉진 상태 | 기대 동작 | 우선순위 |
|-------|----------|------|-----------|-----------|-----------|-----------|----------|
| TC-C-001 | 입사일 기준 | 1년 미만 | 기본연차 | 1차(사용계획서) | 발송예정 | 월별 발생 연차 중 잔여분에 대해 촉진 발송 | P0 |
| TC-C-002 | 입사일 기준 | 1년 미만 | 기본연차 | 1차(사용계획서) | 발송완료 | 제출 대기 상태, 기한 내 제출 가능 | P0 |
| TC-C-003 | 입사일 기준 | 1년 미만 | 기본연차 | 2차(지정통보) | 기한초과 | 미제출로 2차 촉진 대상 포함 | P0 |
| TC-C-004 | 입사일 기준 | 1년 이상 | 기본연차 | 1차(사용계획서) | 발송예정 | 15일 기본연차 중 잔여분 촉진 | P0 |
| TC-C-005 | 입사일 기준 | 1년 이상 | 가산연차 | 1차(사용계획서) | 발송완료 | 기본+가산 합산 잔여분 촉진 | P1 |
| TC-C-006 | 입사일 기준 | 1년 이상 | 이월연차 | 1차(사용계획서) | - | 촉진 대상 제외 | P0 |
| TC-C-007 | 입사일 기준 | 1년 이상 | 당겨쓴연차 | 1차(사용계획서) | 발송예정 | 당겨쓴 일수 차감 후 잔여분만 촉진 | P0 |
| TC-C-008 | 회계연도 기준 | 1년 미만 | 기본연차 | 1차(사용계획서) | 발송예정 | 회계연도 기준 비례 계산 연차 촉진 | P0 |
| TC-C-009 | 회계연도 기준 | 1년 미만 | 기본연차 | 2차(지정통보) | 제출완료 | 1차 미제출 후 2차에서 제출 완료 처리 | P1 |
| TC-C-010 | 회계연도 기준 | 1년 이상 | 기본연차 | 1차(사용계획서) | 발송예정 | 회계연도 전체 15일 중 잔여분 촉진 | P0 |
| TC-C-011 | 회계연도 기준 | 1년 이상 | 가산연차 | 2차(지정통보) | 발송완료 | 1차 미제출자 2차 지정통보 발송 | P1 |
| TC-C-012 | 회계연도 기준 | 1년 이상 | 이월연차 | 2차(지정통보) | - | 촉진 대상 제외 (이월연차만 있는 경우) | P0 |
| TC-C-013 | 회계연도 기준 | 1년 이상 | 당겨쓴연차 | 2차(지정통보) | 발송예정 | 당겨쓴 차감 후 잔여분 2차 촉진 | P0 |
| TC-C-014 | 입사일 기준 | 1년 이상 | 기본+가산+이월 | 1차(사용계획서) | 발송예정 | 이월 제외, 기본+가산 잔여분만 촉진 | P0 |
| TC-C-015 | 회계연도 기준 | 1년 이상 | 기본+당겨쓴 | 1차(사용계획서) | 발송완료 | 기본 - 당겨쓴 = 촉진 대상 연차 | P0 |

### 3.2 특수 조합 케이스 (수기부여, 촉진 ON/OFF 등)

| TC ID | 조건 조합 | 테스트 시나리오 | 기대결과 | 우선순위 |
|-------|----------|----------------|----------|----------|
| TC-S-001 | 수기부여 + 촉진 ON | 수기로 5일 부여 후 촉진 실행 | 수기부여 연차도 촉진 대상에 포함 | P1 |
| TC-S-002 | 수기부여 + 촉진 OFF | 수기로 5일 부여, 촉진 비활성화 | 촉진 미발송, 연차 정상 사용 가능 | P2 |
| TC-S-003 | 가산연차 + 1년 미만 | 장기근속 가산 해당 없음 | 가산연차 미발생, 기본연차만 촉진 | P1 |
| TC-S-004 | 이월연차 + 소멸예정 | 이월연차 소멸 D-30 | 소멸 예정 안내, 촉진 대상 제외 유지 | P1 |
| TC-S-005 | 촉진 ON → OFF 변경 | 촉진 진행 중 설정 OFF | 진행 중인 촉진 유지, 신규 발송 중단 | P1 |
| TC-S-006 | 촉진 OFF → ON 변경 | 촉진 비활성화 후 재활성화 | 대상자 재조회 후 촉진 발송 | P1 |
| TC-S-007 | 기본+가산+이월+당겨쓴 복합 | 모든 연차 유형 보유 | (기본+가산-당겨쓴) 계산, 이월 제외 | P0 |
| TC-S-008 | 입사일 변경 + 촉진 진행중 | 1년 미만 → 1년 이상 변경 | 연차 재계산, 촉진 대상 재평가 | P1 |

---

## 4. 기대결과 (수치 계산 예시)

### 4.1 사례 1: 입사일 2025-02-10, 회계연도 기준, 2025-07-01 촉진 시

| 항목 | 계산 방식 | 값 |
|------|----------|-----|
| 입사일 | - | 2025-02-10 |
| 촉진 기준일 | - | 2025-07-01 |
| 재직 기간 | 2025-02-10 ~ 2025-07-01 | 약 4.7개월 |
| 회계연도 기준 비례 연차 | 15일 x (11개월/12개월) | 13.75일 → 14일 (올림) |
| **또는** 월별 발생 방식 | 2월~6월 만근 시 매월 1일 | 5일 발생 |
| 촉진 대상 연차 | 발생 연차 - 사용 연차 | 잔여일수 |

**시나리오별 계산**:

| 시나리오 | 발생연차 | 사용연차 | 잔여연차 | 촉진 대상 |
|----------|---------|---------|---------|-----------|
| 만근, 미사용 | 5일 | 0일 | 5일 | 5일 |
| 만근, 2일 사용 | 5일 | 2일 | 3일 | 3일 |
| 만근, 전부 사용 | 5일 | 5일 | 0일 | 대상 제외 |
| 1개월 결근 | 4일 | 0일 | 4일 | 4일 |

### 4.2 사례 2: 당겨쓴 연차 2일, 이월연차 3일, 기본연차 15일 시

| 항목 | 값 | 비고 |
|------|-----|------|
| 기본연차 | 15일 | 촉진 대상 |
| 가산연차 | 0일 | (해당 없음 가정) |
| 이월연차 | 3일 | **촉진 대상 제외** |
| 당겨쓴연차 | 2일 | **차감 대상** |
| 사용연차 | 5일 | (기사용분) |
| **촉진 대상 계산** | 15 - 2 - 5 = **8일** | 기본 - 당겨쓴 - 사용 |

**계산 공식**:
```
촉진 대상 연차 = (기본연차 + 가산연차 - 당겨쓴연차) - 사용연차
              = (15 + 0 - 2) - 5
              = 8일
```

> **Note**: 이월연차 3일은 촉진 대상에서 제외되므로 별도 관리

### 4.3 연차 계산 검증 매트릭스

| 구분 | 기본연차 | 가산연차 | 이월연차 | 당겨쓴연차 | 사용연차 | 촉진 대상 연차 | 총 잔여연차 |
|------|---------|---------|---------|-----------|---------|---------------|-------------|
| Case A | 15 | 0 | 0 | 0 | 5 | 10 | 10 |
| Case B | 15 | 2 | 0 | 0 | 7 | 10 | 10 |
| Case C | 15 | 0 | 3 | 0 | 5 | 10 | 13 |
| Case D | 15 | 0 | 0 | 2 | 5 | 8 | 8 |
| Case E | 15 | 2 | 3 | 2 | 5 | 10 | 13 |
| Case F | 15 | 0 | 5 | 0 | 15 | 0 | 5 |
| Case G | 0 | 0 | 5 | 0 | 0 | 0 (제외) | 5 |

---

## 5. 우선순위 및 자동화 추천

### 5.1 우선순위 분류 기준

| 우선순위 | 정의 | 대응 시점 | 케이스 수 |
|----------|------|----------|-----------|
| **P0** | 즉시 수정 필요 - 핵심 기능 오류, 데이터 정합성 이슈 | 즉시 수정, 긴급 배포 | 22건 |
| **P1** | 릴리즈 전 수정 - 주요 기능 오류, 사용성 저하 | 정규 릴리즈 전 수정 | 14건 |
| **P2** | 추후 개선 - 경미한 이슈, UX 개선 사항 | 차기 버전 반영 | 2건 |

### 5.2 P0 케이스 목록 (즉시 수정 필요)

| TC ID | 시나리오명 | 사유 |
|-------|-----------|------|
| TC-N-001 | 1차 촉진 발송 정상 처리 | 핵심 기능 |
| TC-N-002 | 사용계획서 제출 정상 처리 | 핵심 기능 |
| TC-N-003 | 2차 촉진 발송 정상 처리 | 핵심 기능 |
| TC-N-004 | 연차 사용 후 촉진 완료 | 핵심 기능 |
| TC-N-005 | 1년 미만자 월별 연차 자동 집계 | 데이터 정합성 |
| TC-N-006 | 촉진 대상자 정확한 조회 | 데이터 정합성 |
| TC-N-007 | 연차현황-촉진메뉴 데이터 일치 | 데이터 정합성 |
| TC-E-001 | 사용계획서 미제출 시 기한초과 처리 | 상태 관리 |
| TC-E-004 | 발생연차 0인 경우 처리 | 데이터 표시 오류 |
| TC-E-005 | 반반차 2건 동시 사용 | 계산 오류 |
| TC-E-006 | 제출기한 내 "초과" 표시 방지 | 상태 표시 오류 |
| TC-E-009 | 이월연차만 있는 경우 | 대상자 필터링 |
| TC-E-010 | 당겨쓴 연차 차감 후 음수 방지 | 계산 오류 |
| TC-R-001 ~ TC-R-006 | 회귀 테스트 | 기존 버그 재발 방지 |
| TC-C-001 ~ TC-C-004, TC-C-006 ~ TC-C-008, TC-C-010, TC-C-012 ~ TC-C-015 | 핵심 조합 케이스 | 기능 검증 |

### 5.3 자동화 추천 영역

| 영역 | 자동화 유형 | 추천 도구 | 자동화 우선순위 | 사유 |
|------|------------|----------|----------------|------|
| 연차 계산 로직 | Unit Test | JUnit/Jest | **최우선** | 계산 로직 변경 시 즉시 검증 필요 |
| 촉진 대상자 조회 | Integration Test | Postman/Newman | **최우선** | API 응답 검증 자동화 |
| 데이터 정합성 | DB Test | SQL Script | **최우선** | 연차현황-촉진메뉴 데이터 일치 검증 |
| 상태 전이 | Unit Test | JUnit/Jest | 높음 | 상태 변경 로직 검증 |
| UI 팝업/알림 | E2E Test | Cypress/Selenium | 중간 | 회귀 테스트 자동화 |
| 엑셀 다운로드 | Integration Test | Custom Script | 중간 | 데이터 포맷 검증 |
| 배치 처리 (월별 연차) | Batch Test | Jenkins Job | 높음 | 매월 실행 결과 검증 |

### 5.4 자동화 구현 우선순위 매트릭스

| 순위 | 테스트 유형 | 대상 케이스 | 예상 ROI | 구현 난이도 |
|------|------------|------------|---------|------------|
| 1 | 연차 계산 Unit Test | TC-N-005, TC-E-005, TC-E-010 | 높음 | 낮음 |
| 2 | 대상자 조회 API Test | TC-N-006, TC-E-004, TC-E-009 | 높음 | 낮음 |
| 3 | 데이터 정합성 SQL Test | TC-N-007, TC-R-002 | 높음 | 낮음 |
| 4 | 상태 전이 Unit Test | TC-E-001, TC-E-006, TC-R-006 | 중간 | 낮음 |
| 5 | 알림 발송 Integration Test | TC-N-001, TC-N-003, TC-E-008 | 중간 | 중간 |
| 6 | E2E UI Test | TC-E-007, TC-R-007 | 낮음 | 높음 |

---

## 6. 테스트 실행 계획

### 6.1 테스트 단계별 일정

| 단계 | 활동 | 기간 | 담당 |
|------|------|------|------|
| 1단계 | P0 케이스 테스트 설계 완료 | D+1 | QA Engineer |
| 2단계 | P0 케이스 테스트 실행 | D+2 ~ D+4 | QA Engineer |
| 3단계 | P1 케이스 테스트 실행 | D+5 ~ D+7 | QA Engineer |
| 4단계 | 자동화 스크립트 작성 | D+8 ~ D+12 | QA Engineer |
| 5단계 | 회귀 테스트 자동화 구축 | D+13 ~ D+15 | QA Engineer |
| 6단계 | UAT 지원 | D+16 ~ D+18 | QA Engineer |

### 6.2 테스트 환경 요구사항

| 환경 | 용도 | 데이터 요구사항 |
|------|------|----------------|
| DEV | 단위 테스트, 통합 테스트 | 테스트 데이터 세트 |
| STG | 시나리오 테스트, 회귀 테스트 | 운영 유사 데이터 (마스킹) |
| UAT | 사용자 수용 테스트 | 실제 시나리오 기반 데이터 |

### 6.3 테스트 데이터 요구사항

| 데이터 유형 | 필요 건수 | 조건 |
|------------|----------|------|
| 1년 미만 직원 | 20명 이상 | 입사일 다양 (1~11개월) |
| 1년 이상 직원 | 30명 이상 | 근속 1~10년 분포 |
| 당겨쓴 연차 보유자 | 10명 이상 | 당겨쓴 일수 1~5일 분포 |
| 이월연차 보유자 | 10명 이상 | 이월 일수 1~10일 분포 |
| 가산연차 대상자 | 10명 이상 | 3년/5년/10년 이상 근속 |
| 촉진 진행중 대상자 | 각 상태별 5명 이상 | 발송예정/발송완료/제출완료/기한초과 |

---

## 7. 리스크 및 완화 방안

| 리스크 | 영향도 | 발생확률 | 완화 방안 |
|--------|-------|---------|----------|
| 테스트 데이터 부족 | 높음 | 중간 | 데이터 생성 스크립트 사전 준비 |
| 환경 불안정 | 높음 | 중간 | DEV/STG 환경 분리, 테스트 전 환경 점검 |
| 요구사항 변경 | 중간 | 높음 | 기획/개발팀 일일 싱크 미팅 |
| 일정 지연 | 높음 | 중간 | P0 케이스 우선 완료, 버퍼 일정 확보 |
| 자동화 실패 | 중간 | 낮음 | 수동 테스트 백업 계획 수립 |

---

## 8. 승인 기준 (Exit Criteria)

| 구분 | 기준 | 목표 |
|------|------|------|
| P0 케이스 | 전체 Pass | 100% |
| P1 케이스 | Pass율 | 95% 이상 |
| 회귀 테스트 | 전체 Pass | 100% |
| 결함 | Critical/Major 미해결 건수 | 0건 |
| 자동화 | 핵심 케이스 자동화율 | 70% 이상 |

---

## 부록 A: 용어 정의

| 용어 | 정의 |
|------|------|
| 연차촉진 | 근로기준법에 따라 미사용 연차에 대해 사용을 촉진하는 절차 |
| 1차 촉진 (사용계획서) | 사용자에게 연차 사용 계획 제출을 요청하는 단계 |
| 2차 촉진 (지정통보) | 1차 미제출자에게 사용 시기를 지정하여 통보하는 단계 |
| 기본연차 | 1년 근무 시 발생하는 15일의 유급휴가 |
| 가산연차 | 3년 이상 근속 시 2년마다 1일씩 가산되는 연차 (최대 25일) |
| 이월연차 | 전년도 미사용 연차 중 이월된 일수 |
| 당겨쓴연차 | 발생 전 미리 사용한 연차 (마이너스 잔여) |

---

## 부록 B: 참고 문서

- 근로기준법 제61조 (연차 유급휴가의 사용 촉진)
- HR-007 요구사항 정의서
- 연차관리 시스템 설계 문서
- 고객 VOC 분석 보고서 (52건)

---

*문서 끝*
