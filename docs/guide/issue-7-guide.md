# 전자결재 시스템 사용자 가이드

## 카탈로그 참고 결과

| feature_id | 대메뉴 | 중메뉴 | 소메뉴 | 요약 |
|------------|--------|--------|--------|------|
| MOB-SCH-1 | 메인 | 오늘 출장/외근 일정 | 일정 요약 정보 | 오늘 예정된 출장과 외근의 총 건수를 상단에 노출함. |
| MOB-SCH-2 | 메인 | 오늘 출장/외근 일정 | 일정 상세 정보 | 각 일정의 제목, 시작/종료 시간, 근무지 주소 등을 카드 형태로 표시함. |
| MOB-SCH-3 | 메인 | 오늘 출장/외근 일정 | 일정 노출 제어 | X 버튼 클릭 시 해당 일정 항목을 리스트에서 즉시 숨김 처리함. |
| USR-APR-6 | 전자결재 | 기안서 작성 | 출장신청서 - 신청 시간 개별 설정 | 개별 설정 토글 활성화 시, 신청 기간의 모든 날짜가 리스트 형태로 나열되어 각 날짜별로 독립적인 시작/종료 시간 및 근무지 구분을 설정할 수 있음. |
| USR-APR-8 | 전자결재 | 기안서 작성 | 출장신청서 - 휴게 및 근무 시간 | 근로기준법에 따라 휴게 시간이 자동 계산되어 노출되며, 신청 사유는 캘린더 일정 등록 시 제목으로 사용됨. |

## 배경

전자결재 시스템은 출장, 외근, 재택근무, 파견, 시간외근무 등 다양한 근무 형태에 대한 신청과 승인 프로세스를 디지털화하여 업무 효율성을 높이고 결재 내역을 체계적으로 관리하기 위한 시스템입니다. 모바일과 웹 환경에서 일정 확인 및 상태 갱신 기능을 제공하며, 결재선 지정자에게 푸시 알림을 발송하는 등 실시간 협업을 지원합니다.

## 요약

전자결재 시스템은 다음과 같은 핵심 기능을 제공합니다:

- **출장/외근/재택 일정 확인**: 모바일 메인 화면에서 오늘 예정된 출장 및 외근 일정의 총 건수와 상세 정보를 확인할 수 있습니다.
- **일정 상태 갱신**: 사용자가 현재 위치와 근무 상태를 실시간으로 갱신하고, 메모를 입력하거나 조회할 수 있습니다.
- **전자결재 등록**: 출장, 외근, 재택근무, 파견, 시간외근무 등 다양한 기안서를 작성하고 결재선을 지정하여 상신할 수 있습니다.
- **유연한 일정 설정**: 신청 기간 내 각 날짜별로 독립적인 시작/종료 시간 및 근무지 구분을 설정할 수 있는 '개별 설정' 기능을 지원합니다.
- **자동 휴게 시간 계산**: 근로기준법에 따라 휴게 시간이 자동 계산되어 표시됩니다(근무 시간 4시간당 30분, 8시간당 1시간).
- **푸시 알림**: 결재 상신 시 결재선 지정자에게 푸시 알림이 발송되어 신속한 승인 프로세스를 지원합니다.

## 상세 설명

### 모바일 - 오늘 출장/외근 일정

모바일 메인 화면에서는 당일 등록된 출장 및 외근 일정을 한눈에 확인할 수 있습니다. 상단에 총 건수가 노출되며, 각 일정은 카드 형태로 제목, 시작/종료 시간, 근무지 주소 등을 표시합니다. 일정 항목의 X 버튼을 클릭하면 해당 일정을 리스트에서 숨김 처리할 수 있으며, 일정이 3개를 초과할 경우 페이징 처리를 통해 화면 길이를 조절합니다.

### 웹 - 전자결재 기안서 작성

웹 환경에서는 다양한 기안서를 작성할 수 있습니다. 주요 기안서 유형은 다음과 같습니다:

- **출장신청서**: 제목, 신청 기간, 신청 시간(시작/종료 시간, 근무지 구분, 종일일정 옵션), 상세 내용(리치 텍스트 에디터), 첨부 파일 및 관련 문서를 입력할 수 있습니다. '개별 설정' 토글을 활성화하면 신청 기간의 모든 날짜가 리스트 형태로 나열되어 각 날짜별로 독립적인 시작/종료 시간 및 근무지 구분을 설정할 수 있습니다.
- **재택근무신청서**: 출장신청서와 유사한 입력 폼을 제공하며, 신청 시간 개별 설정 기능을 지원합니다.
- **외근신청서**: 제목, 신청 기간, 신청 시간, 상세 내용, 첨부 파일을 입력할 수 있으며, 신청 완료 시 해당 일정이 사용자 캘린더에 자동 등록됩니다.
- **파견신청서**: 외근신청서와 유사한 입력 폼을 제공하며, 일정이 자동으로 캘린더에 등록됩니다.
- **시간외근무신청서**: 근무 날짜, 시작/종료 시간, 휴일 여부, 휴게 시간을 입력하면 순수 근무 시간이 실시간으로 자동 계산되어 표시됩니다.

### 일정 변경 시 데이터 초기화

일정 변경 시 기존에 입력한 데이터가 초기화될 수 있습니다. 신청 기간이나 시간을 변경하기 전에 입력한 내용을 별도로 저장해두는 것을 권장합니다.

### 근무지 상태 배지

모바일 메인 화면 우측 상단에는 현재 근무 장소에 따라 배지 컬러와 텍스트가 동적으로 변경됩니다. 지원되는 근무 상태는 사무실, 재택, 파견, 출장, 미출근, 퇴근, 외근, 이동중 등입니다.

## 대상 사용자

- **일반 직원**: 출장, 외근, 재택근무, 파견, 시간외근무 등 각종 근무 신청서를 작성하고 상신하는 사용자
- **결재자**: 부하 직원이 상신한 기안서를 검토하고 승인/반려하는 사용자
- **관리자**: 전체 결재 현황을 조회하고 관리하는 사용자

## 절차

### 1단계: 로그인 및 메인 화면 접근

- 웹 또는 모바일 앱에 로그인하여 메인 화면에 접근합니다.
- 모바일 앱의 경우, 메인 화면에서 오늘 예정된 출장/외근 일정의 총 건수와 상세 정보를 확인할 수 있습니다.

### 2단계: 전자결재 메뉴 접근

- 웹 환경에서 좌측 메뉴 또는 상단 네비게이션 바에서 "전자결재" 메뉴를 클릭합니다.
- "기안서 작성" 하위 메뉴에서 작성하고자 하는 기안서 유형(출장신청서, 재택근무신청서, 외근신청서, 파견신청서, 시간외근무신청서 등)을 선택합니다.

### 3단계: 기안서 작성

- **제목 입력**: 기안서의 제목을 입력합니다(필수).
- **신청 기간 선택**: 캘린더 피커를 사용하여 신청 기간(시작일 ~ 종료일)을 선택합니다.
- **신청 시간 설정**: 시작/종료 시간을 입력하고, 필요 시 근무지 구분을 선택합니다. '종일일정' 체크박스를 선택하면 시간 선택이 비활성화됩니다. '+ 추가' 버튼을 클릭하여 여러 시간대를 등록할 수 있습니다.
- **개별 설정(선택)**: '개별 설정' 토글을 활성화하면 신청 기간의 모든 날짜가 리스트 형태로 나열되며, 각 날짜별로 독립적인 시작/종료 시간 및 근무지 구분을 설정할 수 있습니다.
- **휴게 시간 확인**: 근로기준법에 따라 휴게 시간이 자동 계산되어 표시됩니다(근무 시간 4시간당 30분, 8시간당 1시간).
- **상세 내용 작성**: 리치 텍스트 에디터를 사용하여 출장 목적, 계획 등 상세 내용을 자유롭게 작성합니다. 하단에 현재 입력된 단어 수가 표시됩니다.
- **첨부 파일 및 관련 문서**: 드래그 앤 드롭 방식으로 파일을 첨부하고, 필요 시 관련 결재 문서를 검색하여 연결합니다.

### 4단계: 결재선 지정 및 상신

- 결재선을 지정합니다(결재자 선택).
- 입력한 내용을 검토한 후 "상신" 버튼을 클릭하여 기안서를 제출합니다.
- 결재 상신 시 결재선 지정자에게 푸시 알림이 발송됩니다.

### 5단계: 결재 현황 확인

- "결재 현황" 메뉴에서 "상신한 문서" 탭을 선택하여 상신한 기안서의 처리 상태를 확인합니다.
- "결재할 문서" 탭에서는 본인이 결재해야 할 기안서 목록을 확인할 수 있습니다.

### 6단계: 모바일에서 일정 확인 및 메모 작성

- 모바일 앱에서 메인 화면에 노출된 출장/외근 일정 카드를 확인합니다.
- 일정 카드를 클릭하여 상세 모달을 열고, 메모 내역 탭에서 메모를 조회/수정/삭제할 수 있습니다.
- 일정 항목의 X 버튼을 클릭하여 리스트에서 숨김 처리할 수 있습니다.

### 7단계: 근무지 상태 배지 확인

- 모바일 메인 화면 우측 상단의 배지를 확인하여 현재 근무 장소(사무실, 재택, 파견, 출장, 미출근, 퇴근, 외근, 이동중 등)를 확인합니다.
- 배지 컬러와 텍스트는 현재 근무 장소에 따라 동적으로 변경됩니다.

## 화면 경로

- **웹**: 메인 화면 > 전자결재 > 기안서 작성 > [출장신청서 / 재택근무신청서 / 외근신청서 / 파견신청서 / 시간외근무신청서]
- **웹**: 메인 화면 > 전자결재 > 결재 현황 > [결재할 문서 / 상신한 문서]
- **모바일**: 메인 화면 > 오늘 출장/외근 일정 > 일정 카드 클릭 > 상세 모달 > 메모 내역 탭

## 주의사항

- **일정 변경 시 데이터 초기화**: 신청 기간이나 시간을 변경할 경우 기존에 입력한 데이터가 초기화될 수 있으므로, 변경 전 입력 내용을 별도로 저장해두는 것을 권장합니다.
- **휴게 시간 자동 계산**: 근로기준법에 따라 근무 시간 4시간당 30분, 8시간당 1시간의 휴게 시간이 자동으로 적용됩니다. 별도로 휴게 시간을 입력할 필요가 없습니다.
- **종료 시간 유효성**: 시간외근무신청서 작성 시 종료 시간은 시작 시간보다 빨라야 합니다(당일 종료 기준).
- **푸시 알림 수신**: 결재 상신 시 결재선 지정자에게 푸시 알림이 발송되므로, 모바일 앱의 알림 권한을 활성화해두는 것을 권장합니다.
- **일정 자동 등록**: 외근신청서, 파견신청서 등 일부 기안서는 신청 완료 시 해당 일정이 사용자 캘린더에 자동 등록됩니다.
- **개별 설정 기능**: '개별 설정' 토글을 활성화하면 신청 기간의 모든 날짜가 리스트 형태로 나열되어 각 날짜별로 독립적인 시작/종료 시간 및 근무지 구분을 설정할 수 있습니다. 장기 출장이나 일정이 불규칙한 경우 유용합니다.

## FAQ

### Q1. 출장신청서 작성 중 신청 기간을 변경하면 입력한 내용이 사라지나요?

A1. 일정 변경 시 기존 데이터가 초기화될 수 있습니다. 신청 기간을 변경하기 전에 입력한 내용을 별도로 저장해두는 것을 권장합니다.

### Q2. 휴게 시간은 어떻게 계산되나요?

A2. 근로기준법에 따라 근무 시간 4시간당 30분, 8시간당 1시간의 휴게 시간이 자동으로 계산되어 표시됩니다. 별도로 휴게 시간을 입력할 필요가 없습니다.

### Q3. 하루에 여러 시간대의 출장 일정을 등록할 수 있나요?

A3. '+ 추가' 버튼을 클릭하여 여러 시간대를 등록할 수 있습니다. 또한 '개별 설정' 토글을 활성화하면 신청 기간의 각 날짜별로 독립적인 시작/종료 시간을 설정할 수 있습니다.

### Q4. 결재 상신 후 결재자가 알림을 받나요?

A4. 결재 상신 시 결재선 지정자에게 푸시 알림이 발송됩니다. 결재자는 모바일 앱에서 알림을 확인하고 신속하게 승인/반려 처리할 수 있습니다.

### Q5. 모바일에서 출장 일정을 숨기면 어떻게 되나요?

A5. 일정 항목의 X 버튼을 클릭하면 해당 일정이 리스트에서 즉시 숨김 처리됩니다. 숨김 처리된 일정은 다시 표시하려면 설정 메뉴에서 재활성화할 수 있습니다.

### Q6. 외근신청서를 작성하면 일정이 자동으로 등록되나요?

A6. 외근신청서와 파견신청서는 신청 완료 시 해당 일정이 사용자 캘린더(USR-SCH)에 자동 등록됩니다. 별도로 캘린더에 일정을 추가할 필요가 없습니다.

### Q7. 시간외근무신청서에서 순수 근무 시간은 어떻게 계산되나요?

A7. 순수 근무시간 = (근무 종료 - 근무 시작) - 총 휴게시간 공식으로 실시간 자동 계산되어 표시됩니다.

### Q8. 모바일 메인 화면의 근무지 상태 배지는 무엇을 나타내나요?

A8. 현재 근무 장소에 따라 배지 컬러와 텍스트가 동적으로 변경됩니다. 사무실, 재택, 파견, 출장, 미출근, 퇴근, 외근, 이동중 등의 상태를 표시합니다.

## 관련 링크

- **Notion 페이지**: [전자결재 시스템 상세 스펙](https://www.notion.so/2f8c0f61d0748052913bc2a5b8e51439)
- **Spec ID**: TSK1-YBE2
- **카탈로그 파일**: data/catalog/features.csv
- **관련 기능**: MOB-SCH-1~8 (모바일 출장/외근 일정), USR-APR-4~32 (전자결재 기안서 작성)

## 변경점

| 항목 | 카탈로그 | 이슈 |
|------|----------|------|
| 일정 변경 시 데이터 초기화 | 명시되지 않음 | 일정 변경 시 기존 데이터가 초기화되며, 푸시 알림 기능이 포함되어 있음 |
| 메모 내역 확인 | MOB-SCH-7에서 입력한 메모는 일정 상세 모달 내 메모 내역 탭에서 조회/수정/삭제 가능 | 이슈에서 "상세 일정 및 메모 내역 확인 기능도 지원합니다"라고 명시 - 일치함 |
| 전자결재 등록 시 유연한 설정 | USR-APR-6, USR-APR-14에서 개별 설정 토글을 통해 각 날짜별로 독립적인 시작/종료 시간 및 근무지 구분을 설정 가능 | 이슈에서 "전자결재 등록 시 유연한 설정이 가능"이라고 명시 - 일치함 |
