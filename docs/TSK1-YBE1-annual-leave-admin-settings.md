# 연차 휴가 - 관리자 설정 (Annual Leave - Admin Settings)

**Spec ID**: TSK1-YBE1
**Priority**: P0
**Status**: Ready for Dev

## 개요 (Overview)

본 문서는 연차/휴가 관리 시스템의 관리자 설정 기능에 대한 명세서입니다. 근로기준법에 따른 연차 생성 기준, 부여 정책, 소멸 및 이월 정책을 포함하여 연차 관리의 전반적인 설정을 다룹니다.

## 카탈로그 기반 기능 요약 (Catalog-based Feature Summary)

data/catalog/features.csv에서 추출한 관련 기능 5개:

### 1. ADM-LEV-1: 연차 생성 기준 - 부여 기준 설정
- **기능**: 연차 생성의 근거(수기등록, 입사일, 회계연도)를 선택하고, 회계연도 선택 시 기준일을 설정
- **입력**: [수기/입사일/회계연도] 라디오 버튼
- **제약사항**: [경고] 최초 1회 설정 후 수정 불가함

### 2. ADM-LEV-2: 연차 생성 기준 - 입사일 기준 설정
- **기능**: 각 구성원의 실제 입사 일자를 기준으로 매년 연차를 생성함. 개인별로 연차 생성 및 소멸 시점이 다르게 관리됨
- **핵심 로직**: 연차 생성일 = 각 구성원의 입사일자 (매년 반복)
- **제약사항**: [중요] 최초 1회 설정 후 수정 불가, 활성화 시 다른 기준 선택 불가

### 3. ADM-LEV-3: 연차 생성 기준 - 회계연도 기준 설정
- **기능**: 회사가 정한 특정 기준일(예: 01-01)에 전 사원의 연차를 일괄 생성함. 입사 1년 미만자의 경우 기준일까지의 근무 기간에 비례하여 연차를 안분 계산하여 부여함
- **핵심 로직**: 기준일 설정: MM-DD 형식으로 입력된 날짜를 시스템 전체 연차 갱신일로 지정
- **제약사항**: [중요] 최초 1회 설정 후 수정 불가, 활성화 시 기준일 입력 필드 노출

### 4. ADM-LEV-4: 1년 미만 근로자 - 1달 만근 시 부여
- **기능**: 입사 1년 미만 근로자가 1개월간 개근 시 1일의 연차를 자동으로 발생시킴. 근로기준법에 의거하여 최대 11일까지 발생 가능함
- **핵심 로직**: 발생 로직: 근무 개월 수 (최대 11개월) 기준 자동 생성
- **제약사항**: 선택 시 즉시 시스템 반영

### 5. ADM-LEV-6: 근속별 연차 일수 - 연차 테이블
- **기능**: 1년차(15일)부터 30년차(25일)까지 근속 연수에 따른 법정 연차 일수를 관리
- **핵심 로직**: 가산: 1년 초과 시 2년마다 1일 가산 (최대 25일)
- **유효성 검사**: 숫자만 입력 가능

## 상세 기능 명세 (Detailed Specifications)

### 1. 연차 생성 기준 설정

#### 1.1 부여 기준 선택
관리자는 다음 3가지 방식 중 하나를 선택하여 연차 생성 기준을 설정합니다:

- **수기 등록**: 관리자가 직접 개별 구성원의 연차를 수동으로 등록
- **입사일 기준**: 각 구성원의 입사일을 기준으로 매년 자동 생성
- **회계연도 기준**: 회사가 정한 특정 기준일에 전 사원 일괄 생성

**중요 정책**:
- 최초 1회 설정 후 수정 불가
- 시스템 운영 중 변경 시 데이터 정합성 문제 발생 가능성으로 인한 제약

#### 1.2 입사일 기준 설정
- **생성 주기**: 각 구성원의 입사일 기준 매년 자동 생성
- **관리 방식**: 개인별로 연차 생성 및 소멸 시점이 다르게 관리
- **계산 로직**:
  - 연차 생성일 = 입사일자 (매년 동일한 날짜)
  - 예: 2023년 3월 15일 입사 → 매년 3월 15일 연차 생성

#### 1.3 회계연도 기준 설정
- **생성 주기**: 회사가 정한 특정 기준일(예: 01-01)에 전 사원 일괄 생성
- **입력 형식**: MM-DD 형식 (예: 01-01, 04-01)
- **1년 미만 근로자 처리**:
  - 기준일까지의 근무 기간에 비례하여 연차를 안분 계산
  - 예: 기준일 01-01, 입사일 07-01인 경우 → 6개월 근무 인정 → 비례 연차 부여

### 2. 1년 미만 근로자 연차 부여

#### 2.1 월차 제도 (1달 만근 시 부여)
근로기준법에 따른 월차 제도:

- **발생 조건**: 1개월간 개근 시 1일의 연차 자동 발생
- **최대 발생**: 11일 (입사 후 11개월까지)
- **계산 로직**: 근무 개월 수 기준 자동 생성
  - 1개월 만근 = 1일 연차
  - 2개월 만근 = 2일 연차
  - ...
  - 11개월 만근 = 11일 연차

#### 2.2 일괄 연차 부여
- **방식**: 월별 발생이 아닌, 특정 시점에 연차를 한꺼번에 선부여
- **사용 사례**: 회계연도 기준과 병행하여 사용
- **예시**:
  - 회계연도 기준일 01-01 설정
  - 입사 1년 미만자에게 기준일에 비례 연차 일괄 부여

### 3. 근속별 연차 일수 관리

#### 3.1 법정 연차 테이블
근로기준법에 따른 근속 연수별 연차 일수:

| 근속 연수 | 연차 일수 | 비고 |
|----------|----------|------|
| 1년 | 15일 | 기본 연차 |
| 2년 | 15일 | |
| 3년 | 16일 | +1일 가산 |
| 4년 | 16일 | |
| 5년 | 17일 | +1일 가산 |
| ... | ... | 2년마다 1일 가산 |
| 21년 이상 | 25일 | 최대 25일 |

#### 3.2 가산 정책
- **가산 시점**: 1년 초과 후 2년마다 1일 가산
- **최대 일수**: 25일
- **계산 공식**:
  ```
  연차 일수 = 15 + floor((근속년수 - 1) / 2)
  단, 최대 25일
  ```

#### 3.3 입력 제약
- **유효성 검사**: 숫자만 입력 가능
- **관리 범위**: 1년차부터 30년차까지

### 4. 연차 소멸 및 유효기간

#### 4.1 유효기간 정책
- **기본 유효기간**: 발생한 연차는 2년간 유효
- **소멸 시점**:
  - 입사일 기준: 발생일로부터 2년 후 동일 날짜
  - 회계연도 기준: 기준일로부터 2년 후 동일 날짜

#### 4.2 이월 정책
- **1년차 이월**: 미사용 연차는 다음 연도로 자동 이월
- **2년차 소멸**: 이월 연차는 익년도 말에 소멸
- **소멸 예정 알림**: 소멸 예정 연차에 대한 알림 기능 (선택 사항)

### 5. 연차 당겨쓰기

#### 5.1 정책
- **허용 여부**: 회사 정책에 따라 설정 가능
- **당겨쓰기 한도**: 다음 연도 발생 예정 연차 범위 내
- **정산 방식**:
  - 다음 연도 연차 발생 시 자동 차감
  - 퇴사 시 당겨쓴 연차에 대한 급여 정산

### 6. 대체 휴가 제도

#### 6.1 발생 조건
- **휴일근무**: 법정 휴일 또는 주휴일 근무 시 발생
- **발생 일수**: 근무 시간에 따라 계산
  - 8시간 근무 = 1일 대체 휴가
  - 4시간 근무 = 0.5일 대체 휴가

#### 6.2 사용 정책
- **사용 기한**: 발생일로부터 3개월 이내 (근로기준법)
- **미사용 시**: 기한 경과 후 자동 소멸 또는 급여 지급

### 7. 연차 알림 기능

#### 7.1 알림 대상
- **연차 소멸 예정**: 소멸 예정일 30일 전, 7일 전 알림
- **연차 잔여**: 월별 잔여 연차 알림
- **연차 발생**: 신규 연차 발생 시 알림

#### 7.2 알림 채널
- **웹 알림**: 시스템 내 알림
- **이메일**: 선택적 이메일 알림
- **모바일**: 모바일 앱 푸시 알림 (구현 시)

## 변경점 (Differences from Catalog)

이슈 내용과 카탈로그 기능을 비교한 결과:

| 항목 | 이슈 내용 | 카탈로그 | 차이점 |
|------|----------|----------|--------|
| 근로시간 | 근로기준법에 따른 근로시간 언급 | 카탈로그에 명시적 기능 없음 | 이슈에서 추가 언급 |
| 연차 생성 기준 | 언급됨 | ADM-LEV-1, 2, 3에 상세 정의 | 일치 |
| 기본 부여 및 가산 정책 | 언급됨 | ADM-LEV-4, 6에 상세 정의 | 일치 |
| 소멸 및 이월 정책 | 2년간 유효 명시 | 카탈로그에 명시적 기능 없음 | 이슈에서 추가 명시 |
| 대체 휴가 제도 | 언급됨 | 카탈로그에 명시적 기능 없음 | 이슈에서 추가 언급 |
| 연차 알림 기능 | 언급됨 | 카탈로그에 명시적 기능 없음 | 이슈에서 추가 언급 |
| 연차 구분 | 1년 미만 월차, 비례 연차, 기본 연차 | ADM-LEV-4에 1년 미만 월차 정의 | 부분 일치 |
| 당겨쓰기 | 언급됨 | 카탈로그에 명시적 기능 없음 | 이슈에서 추가 언급 |

**참고**:
- 카탈로그는 주로 "연차 기준 관리" 중메뉴에 집중되어 있음
- 이슈 내용은 보다 광범위한 연차 관리 기능(소멸, 이월, 대체 휴가, 알림 등)을 포함
- 향후 카탈로그 확장 시 누락된 기능들을 추가할 필요가 있음

## 기술 요구사항 (Technical Requirements)

### 데이터 모델
- **연차 설정 테이블**: 회사별 연차 생성 기준, 부여 정책 저장
- **구성원 연차 테이블**: 개인별 연차 발생, 사용, 잔여 이력 관리
- **근속별 연차 테이블**: 근속 연수별 법정 연차 일수 매핑

### 권한
- **관리자**: 모든 연차 설정 및 관리 기능 접근
- **사용자**: 본인 연차 조회 및 사용 신청만 가능

### 유효성 검사
- 연차 일수: 숫자만 입력, 0 이상
- 기준일: MM-DD 형식, 유효한 날짜
- 생성 기준: 최초 1회 설정 후 수정 불가 검증

## 참고 자료 (References)

- **Notion Page**: https://www.notion.so/2f8c0f61d074802b96b9ea0a7b1144ac
- **Catalog File**: data/catalog/features.csv
- **관련 Feature IDs**: ADM-LEV-1, ADM-LEV-2, ADM-LEV-3, ADM-LEV-4, ADM-LEV-5, ADM-LEV-6
- **근로기준법**: 연차휴가 관련 조항 (제60조, 제61조)

## 구현 우선순위 (Implementation Priority)

P0 (최고 우선순위) - 순차적 구현 권장:

1. **Phase 1**: 연차 생성 기준 설정 (ADM-LEV-1, 2, 3)
2. **Phase 2**: 1년 미만 근로자 처리 (ADM-LEV-4, 5)
3. **Phase 3**: 근속별 연차 일수 관리 (ADM-LEV-6)
4. **Phase 4**: 소멸 및 이월 정책 구현
5. **Phase 5**: 대체 휴가 및 알림 기능

---

**문서 작성일**: 2026-02-01
**작성자**: Claude (Automated Documentation)
