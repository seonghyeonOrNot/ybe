# 전자결재 시스템 정책 문서

## 카탈로그 참고 결과

| feature_id | 대메뉴 | 중메뉴 | 소메뉴 | 요약 |
|------------|--------|--------|--------|------|
| MOB-SCH-1 | 메인 | 오늘 출장/외근 일정 | 일정 요약 정보 | 오늘 예정된 출장과 외근의 총 건수를 상단에 노출함. |
| MOB-SCH-4 | 메인 | 오늘 출장/외근 일정 | 리스트 페이징 | 등록된 일정의 개수가 3개를 초과할 경우 페이징 처리를 통해 화면 길이를 조절함. |
| USR-APR-8 | 전자결재 | 기안서 작성 | 출장신청서 - 휴게 및 근무 시간 | 근로기준법에 따라 휴게 시간이 자동 계산되어 노출되며, 신청 사유는 캘린더 일정 등록 시 제목으로 사용됨. |
| USR-APR-16 | 전자결재 | 기안서 작성 | 재택근무신청서 - 데이터 연동 | 결재 상신 시 결재선 지정자에게 푸시 알림 발송. |
| USR-APR-22 | 전자결재 | 기안서 작성 | 시간외근무신청서 - 근무일시 설정 | 근무 날짜를 캘린더 피커로 선택하고, 시작/종료 시간을 지정함. 휴일 근무일 경우 '휴일' 체크박스를 활성화함. 종료 시간은 시작 시간보다 빨라야 함. |

## 1. 정책 개요

전자결재 시스템은 출장, 외근, 재택근무, 파견, 시간외근무 등 다양한 근무 형태에 대한 신청 및 승인 프로세스를 관리하며, 근로기준법 및 회사 내부 규정을 준수하도록 설계되었습니다.

## 2. 정책 및 제약 사항

| 정책 항목 | 정책 내용 | 근거 | 비고 |
|-----------|-----------|------|------|
| 휴게 시간 자동 계산 | 근무 시간 4시간당 30분, 8시간당 1시간의 휴게 시간이 자동 계산됨 | 근로기준법 | USR-APR-8, USR-APR-24 |
| 종료 시간 유효성 | 시간외근무신청서 작성 시 종료 시간은 시작 시간보다 빨라야 함 | 시스템 유효성 검사 | USR-APR-22 |
| 일정 자동 등록 | 외근신청서, 파견신청서 신청 완료 시 해당 일정이 사용자 캘린더(USR-SCH)에 자동 등록됨 | 시스템 연동 정책 | USR-APR-18, USR-APR-20 |
| 푸시 알림 발송 | 결재 상신 시 결재선 지정자에게 푸시 알림이 발송됨 | 알림 정책 | USR-APR-16 |
| 일정 페이징 처리 | 모바일 메인 화면에서 일정이 3개를 초과할 경우 페이징 처리를 통해 화면 길이를 조절함 | UI/UX 정책 | MOB-SCH-4 |
| 일정 숨김 처리 | 사용자는 X 버튼을 클릭하여 일정을 리스트에서 즉시 숨김 처리할 수 있음 | 사용자 제어 정책 | MOB-SCH-3 |
| 일정 변경 시 데이터 초기화 | 신청 기간이나 시간을 변경할 경우 기존 데이터가 초기화될 수 있음 | 시스템 정책 | 이슈 Summary |
| 개별 설정 기능 | '개별 설정' 토글 활성화 시 신청 기간의 모든 날짜가 리스트 형태로 나열되어 각 날짜별로 독립적인 시작/종료 시간 및 근무지 구분을 설정 가능 | 유연한 일정 관리 정책 | USR-APR-6, USR-APR-14 |
| 신청 사유 자동 연동 | 출장신청서의 신청 사유는 캘린더 일정 등록 시 제목으로 사용됨 | 데이터 연동 정책 | USR-APR-8 |
| 근무지 상태 배지 | 현재 근무 장소에 따라 모바일 메인 화면 우측 상단의 배지 컬러와 텍스트가 동적으로 변경됨 (사무실, 재택, 파견, 출장, 미출근, 퇴근, 외근, 이동중) | 상태 표시 정책 | MOB-SCH-8 |

## 3. 예외 사항

| 예외 상황 | 처리 방법 | 비고 |
|-----------|-----------|------|
| 일정 변경 중 데이터 손실 | 신청 기간이나 시간 변경 시 기존 입력 데이터가 초기화될 수 있으므로, 사용자에게 사전 경고 메시지 표시 권장 | 사용자 주의 필요 |
| 종료 시간이 시작 시간보다 빠른 경우 | 시스템이 유효성 검사를 통해 입력을 차단하고 오류 메시지를 표시함 | USR-APR-22 |
| 일정이 3개를 초과하는 경우 | 페이징 처리를 통해 화면 길이를 조절하여 사용자 경험을 개선함 | MOB-SCH-4 |
| 관련 결재 문서가 없는 경우 | 안내 문구를 표시하여 사용자에게 알림 | USR-APR-10 |
| 휴일 근무 시간외근무 신청 | '휴일' 체크박스를 활성화하여 휴일 근무임을 명시함 | USR-APR-22 |

## 4. 우선순위

| 우선순위 | 정책 항목 | 이유 |
|----------|-----------|------|
| 1 | 근로기준법 준수(휴게 시간 자동 계산) | 법적 의무 사항 |
| 2 | 결재 상신 시 푸시 알림 발송 | 업무 효율성 및 신속한 승인 프로세스 보장 |
| 3 | 일정 자동 등록(외근, 파견) | 사용자 편의성 및 데이터 일관성 유지 |
| 4 | 시간 유효성 검사(종료 시간 > 시작 시간) | 데이터 무결성 보장 |
| 5 | 일정 변경 시 데이터 초기화 경고 | 사용자 데이터 손실 방지 |
| 6 | 개별 설정 기능 제공 | 유연한 일정 관리 지원 |
| 7 | 일정 페이징 처리(3개 초과 시) | UI/UX 개선 |

## 5. 데이터 반영 시점

| 데이터 유형 | 반영 시점 | 비고 |
|------------|-----------|------|
| 기안서 작성 데이터 | 사용자가 입력한 즉시 임시 저장 가능 (브라우저 세션 또는 서버 임시 저장소) | 일정 변경 시 초기화될 수 있음 |
| 결재 상신 데이터 | '상신' 버튼 클릭 시 서버에 저장되고 결재 프로세스 시작됨 | 상신 후 수정 불가 |
| 캘린더 일정 자동 등록 | 외근신청서, 파견신청서 신청 완료(상신) 시 즉시 사용자 캘린더(USR-SCH)에 등록됨 | USR-APR-18, USR-APR-20 |
| 푸시 알림 발송 | 결재 상신 시 즉시 결재선 지정자에게 푸시 알림 발송됨 | USR-APR-16 |
| 휴게 시간 자동 계산 | 사용자가 근무 시간을 입력하는 동안 실시간으로 계산되어 표시됨 | USR-APR-8, USR-APR-24 |
| 순수 근무 시간 자동 계산 | 시간외근무신청서 작성 중 실시간으로 계산되어 표시됨 | USR-APR-24 |
| 근무지 상태 배지 | 사용자의 현재 근무 장소 변경 시 실시간으로 업데이트됨 | MOB-SCH-8 |
| 일정 숨김 처리 | X 버튼 클릭 시 즉시 리스트에서 숨김 처리됨 | MOB-SCH-3 |

## 6. 권한별 차이

| 권한 유형 | 접근 가능한 기능 | 제약 사항 |
|-----------|------------------|-----------|
| 일반 직원 | - 기안서 작성(출장, 외근, 재택, 파견, 시간외근무)<br>- 상신한 문서 조회<br>- 모바일에서 오늘 일정 확인 및 메모 작성<br>- 근무지 상태 배지 확인 | 본인이 작성한 기안서만 조회 가능 |
| 결재자 | - 결재할 문서 조회 및 승인/반려<br>- 결재 현황 조회 | 본인이 결재선에 포함된 기안서만 조회 및 처리 가능 |
| 관리자 | - 전체 결재 현황 조회<br>- 통계 및 리포트 생성(기능 추가 가능 시) | 전체 조직의 결재 현황을 조회할 수 있으나, 대리 결재는 별도 권한 필요 |

## 7. 리스크 및 운영 주의사항

### 리스크 1: 일정 변경 시 데이터 손실

- **설명**: 신청 기간이나 시간을 변경할 경우 기존에 입력한 데이터가 초기화될 수 있습니다.
- **영향**: 사용자가 입력한 내용을 다시 작성해야 하므로 불편함 및 업무 효율 저하가 발생할 수 있습니다.
- **완화 방안**:
  - 일정 변경 시 사용자에게 "입력한 내용이 초기화될 수 있습니다. 계속하시겠습니까?" 형태의 경고 메시지를 표시합니다.
  - 브라우저 세션 또는 서버 임시 저장소에 입력 데이터를 주기적으로 자동 저장하여 복구 가능성을 높입니다.

### 리스크 2: 푸시 알림 미수신

- **설명**: 결재선 지정자가 모바일 앱의 알림 권한을 비활성화한 경우 푸시 알림을 받지 못할 수 있습니다.
- **영향**: 결재 지연 및 업무 프로세스 지체가 발생할 수 있습니다.
- **완화 방안**:
  - 푸시 알림 외에 이메일 또는 웹 알림(웹 브라우저 알림)을 추가로 발송합니다.
  - 사용자에게 알림 권한 활성화를 권장하는 안내 메시지를 표시합니다.

### 리스크 3: 시간 유효성 검사 누락

- **설명**: 종료 시간이 시작 시간보다 빠른 경우 시스템이 유효성 검사를 통해 차단하지만, 검사 로직에 오류가 있을 경우 잘못된 데이터가 저장될 수 있습니다.
- **영향**: 데이터 무결성 문제 및 근무 시간 계산 오류가 발생할 수 있습니다.
- **완화 방안**:
  - 프론트엔드와 백엔드 모두에서 유효성 검사를 수행합니다(이중 검증).
  - 정기적으로 저장된 데이터의 무결성을 검증하는 배치 작업을 운영합니다.

### 리스크 4: 일정 자동 등록 실패

- **설명**: 외근신청서, 파견신청서 신청 완료 시 캘린더 연동 API가 실패할 경우 일정이 자동 등록되지 않을 수 있습니다.
- **영향**: 사용자가 수동으로 일정을 등록해야 하므로 불편함 및 업무 효율 저하가 발생할 수 있습니다.
- **완화 방안**:
  - 캘린더 연동 실패 시 사용자에게 오류 메시지를 표시하고 수동 등록을 안내합니다.
  - 실패한 일정 자동 등록 작업을 큐에 저장하여 재시도(Retry) 로직을 구현합니다.

### 리스크 5: 근로기준법 위반 가능성

- **설명**: 휴게 시간 자동 계산 로직이 근로기준법을 정확히 반영하지 못할 경우 법적 문제가 발생할 수 있습니다.
- **영향**: 회사가 근로기준법 위반으로 인한 법적 책임을 질 수 있습니다.
- **완화 방안**:
  - 휴게 시간 자동 계산 로직을 법무팀 및 인사팀과 협의하여 정기적으로 검토합니다.
  - 근로기준법 개정 시 시스템 로직을 즉시 업데이트합니다.

### 리스크 6: 분쟁 발생 가능성

- **설명**: 일정 변경 시 데이터 초기화, 결재 지연, 일정 자동 등록 실패 등으로 인해 직원과 회사 간 분쟁이 발생할 수 있습니다.
- **영향**: 업무 신뢰도 저하 및 법적 분쟁으로 이어질 수 있습니다.
- **완화 방안**:
  - 모든 결재 및 일정 변경 이력을 로그로 기록하여 분쟁 발생 시 증거 자료로 활용합니다.
  - 사용자에게 시스템 정책 및 주의사항을 명확히 안내합니다.

## 8. 정책 준수 가이드

### 8.1 휴게 시간 자동 계산 정책

- 근무 시간 4시간당 30분, 8시간당 1시간의 휴게 시간이 자동 계산되어 표시됩니다.
- 사용자는 휴게 시간을 별도로 입력할 필요가 없으며, 시스템이 근로기준법에 따라 자동으로 적용합니다.
- 시간외근무신청서의 경우 순수 근무시간 = (근무 종료 - 근무 시작) - 총 휴게시간 공식으로 계산됩니다.

### 8.2 일정 자동 등록 정책

- 외근신청서, 파견신청서 신청 완료(상신) 시 해당 일정이 사용자 캘린더(USR-SCH)에 자동 등록됩니다.
- 사용자는 별도로 캘린더에 일정을 추가할 필요가 없습니다.
- 일정 자동 등록 실패 시 오류 메시지가 표시되며, 사용자는 수동으로 일정을 등록할 수 있습니다.

### 8.3 푸시 알림 발송 정책

- 결재 상신 시 결재선 지정자에게 푸시 알림이 즉시 발송됩니다.
- 결재자는 모바일 앱에서 알림을 확인하고 신속하게 승인/반려 처리할 수 있습니다.
- 알림 권한을 활성화하지 않은 결재자는 푸시 알림을 받지 못할 수 있으므로, 이메일 또는 웹 알림을 추가로 확인하는 것을 권장합니다.

### 8.4 일정 변경 시 데이터 초기화 정책

- 신청 기간이나 시간을 변경할 경우 기존에 입력한 데이터가 초기화될 수 있습니다.
- 사용자는 일정 변경 전에 입력한 내용을 별도로 저장해두는 것을 권장합니다.
- 시스템은 일정 변경 시 경고 메시지를 표시하여 사용자에게 데이터 손실 가능성을 알립니다.

## 9. 정책 변경 이력

| 버전 | 변경일 | 변경 내용 | 변경자 |
|------|--------|-----------|--------|
| 1.0 | 2026-02-02 | 초기 정책 문서 작성 | Claude |

## 변경점

| 항목 | 카탈로그 | 이슈 |
|------|----------|------|
| 일정 변경 시 데이터 초기화 | 명시되지 않음 | 일정 변경 시 기존 데이터가 초기화되며, 푸시 알림 기능이 포함되어 있음 |
| 푸시 알림 기능 | USR-APR-16에서 "결재 상신 시 결재선 지정자에게 푸시 알림 발송"이라고 명시 | 이슈에서 "푸시 알림 기능이 포함되어 있습니다"라고 명시 - 일치함 |
